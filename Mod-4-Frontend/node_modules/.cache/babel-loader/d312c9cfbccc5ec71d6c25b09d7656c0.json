{"ast":null,"code":"var _jsxFileName = \"/Users/johndoansimac/Documents/GitHub/Mod_4_Project/Mod-4-Frontend/src/components/Dashboard.js\";\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport MainListItems from './MainListItems';\nimport DeckBox from '../containers/DeckBox';\nimport Search from '../containers/Search';\nimport DeckList from '../components/DeckList';\nimport Grid from '@material-ui/core/Grid';\nconst drawerWidth = 300;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  toolbar: {\n    paddingRight: 24 // keep right padding when drawer closed\n\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  menuButton: {\n    marginRight: 36\n  },\n  menuButtonHidden: {\n    display: 'none'\n  },\n  title: {\n    flexGrow: 1\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9)\n    }\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    backgroundColor: theme.palette.mode === 'light' ? theme.palette.grey[100] : theme.palette.grey[900],\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto'\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4)\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column'\n  },\n  fixedHeight: {\n    height: 250\n  },\n  cardImage: {\n    height: '380.16px',\n    width: '272.16px',\n    borderRadius: '15px',\n    marginTop: 15,\n    marginLeft: 15\n  }\n}));\n\nconst Dashboard = () => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const toggleDrawer = () => {\n    setOpen(!open);\n  };\n\n  const [tab, setTab] = React.useState('Decks');\n\n  const changeTab = tab => {\n    setTab(tab);\n  };\n\n  const count = '';\n  const [decks, setDecks] = React.useState([]);\n  const [currentDeckList, setCurrentDeckList] = React.useState([]);\n  const [selectedDeck, setDeck] = React.useState(1);\n  const magicBack = 'https://c1.scryfall.com/file/scryfall-card-backs/large/59/597b79b3-7d77-4261-871a-60dd17403388.jpg?1561757283';\n  const [imageShown, setImage] = React.useState(magicBack);\n  React.useEffect(() => {\n    const fetchDecks = () => {\n      fetch(`http://localhost:3001/decks`).then(res => res.json()).then(deckCollection => {\n        setDecks(deckCollection);\n        setCurrentDeckList(fetchCards(deckCollection));\n      });\n    };\n\n    fetchDecks();\n  }, [count]);\n\n  const fetchCards = deckCollection => {\n    let deckList = [];\n    deckCollection[selectedDeck - 1].deck_cards.map(deck_card => deckCollection[selectedDeck - 1].cards.map(card => card.id === deck_card.card_id ? deckList.push({\n      card: card,\n      deck_card: deck_card.id\n    }) : null));\n    return deckList;\n  };\n\n  const addToDeck = id => {\n    const decksUpdate = [...decks];\n    fetch('http://localhost:3001/deck_cards', {\n      method: 'POST',\n      body: JSON.stringify({\n        deck_id: selectedDeck,\n        card_id: id\n      }),\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(deckCardObj => {\n      decksUpdate[selectedDeck - 1].deck_cards.push(deckCardObj.deck_card);\n      const cardCheck = decksUpdate[selectedDeck - 1].cards.filter(card => card.id === deckCardObj.card.id) === [];\n\n      if (cardCheck) {\n        decksUpdate[selectedDeck - 1].cards.push(deckCardObj.card);\n      }\n\n      setDecks(decksUpdate);\n    });\n  };\n\n  const removeFromDeck = id => {\n    const decksUpdate = [...decks];\n    fetch(`http://localhost:3001/deck_cards/${id}`, {\n      method: 'DELETE'\n    }).then(res => res.json()).then(deletedDeckCard => {\n      let newDeckList = decks[selectedDeck - 1].deck_cards.filter(deck_card => deck_card.id !== deletedDeckCard.id);\n      decksUpdate[selectedDeck - 1].deck_cards = newDeckList;\n      setCurrentDeckList(fetchCards(decksUpdate));\n      setDecks(decksUpdate);\n    });\n  };\n\n  const renderView = () => {\n    let showTab = '';\n\n    switch (tab) {\n      case \"Decks\":\n        showTab = /*#__PURE__*/React.createElement(DeckBox, {\n          decks: decks,\n          setTab: setTab,\n          setDeck: setDeck,\n          setCurrentDeckList: setCurrentDeckList,\n          fetchCards: fetchCards,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 31\n          }\n        });\n        break;\n\n      case \"Search\":\n        showTab = /*#__PURE__*/React.createElement(Search, {\n          setDeck: setDeck,\n          selectedDeck: selectedDeck,\n          addToDeck: addToDeck,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 32\n          }\n        });\n        break;\n\n      case \"DeckList\":\n        showTab = /*#__PURE__*/React.createElement(DeckList, {\n          setImage: setImage,\n          magicBack: magicBack,\n          selectedDeck: selectedDeck,\n          decks: decks,\n          currentDeckList: currentDeckList,\n          removeFromDeck: removeFromDeck,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 19\n          }\n        });\n        break;\n\n      default:\n        break;\n    }\n\n    return showTab;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(AppBar, {\n    position: \"absolute\",\n    className: clsx(classes.appBar, open && classes.appBarShift),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"start\",\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    onClick: toggleDrawer,\n    className: clsx(classes.menuButton, open && classes.menuButtonHidden),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MenuIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h6\",\n    color: \"inherit\",\n    noWrap: true,\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  }, tab))), /*#__PURE__*/React.createElement(Drawer, {\n    variant: \"permanent\",\n    classes: {\n      paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose)\n    },\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbarIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    onClick: toggleDrawer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ChevronLeftIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MainListItems, {\n    changeTab: changeTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.cardImage,\n    src: imageShown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }\n  }, renderView()));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/johndoansimac/Documents/GitHub/Mod_4_Project/Mod-4-Frontend/src/components/Dashboard.js"],"names":["React","clsx","makeStyles","CssBaseline","Drawer","AppBar","Toolbar","List","Typography","Divider","IconButton","MenuIcon","ChevronLeftIcon","MainListItems","DeckBox","Search","DeckList","Grid","drawerWidth","useStyles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","appBarSpacer","content","backgroundColor","palette","mode","grey","height","overflow","container","paddingTop","paddingBottom","paper","flexDirection","fixedHeight","cardImage","borderRadius","marginTop","Dashboard","classes","open","setOpen","useState","toggleDrawer","tab","setTab","changeTab","count","decks","setDecks","currentDeckList","setCurrentDeckList","selectedDeck","setDeck","magicBack","imageShown","setImage","useEffect","fetchDecks","fetch","then","res","json","deckCollection","fetchCards","deckList","deck_cards","map","deck_card","cards","card","id","card_id","push","addToDeck","decksUpdate","method","body","JSON","stringify","deck_id","headers","deckCardObj","cardCheck","filter","removeFromDeck","deletedDeckCard","newDeckList","renderView","showTab"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport MainListItems from './MainListItems';\nimport DeckBox from '../containers/DeckBox';\nimport Search from '../containers/Search';\nimport DeckList from '../components/DeckList';\nimport Grid from '@material-ui/core/Grid'\n\n\nconst drawerWidth = 300;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    backgroundColor:\n      theme.palette.mode === 'light'\n        ? theme.palette.grey[100]\n        : theme.palette.grey[900],\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  fixedHeight: {\n    height: 250,\n  },\n  cardImage: {\n    height: '380.16px',\n    width: '272.16px',\n    borderRadius: '15px',\n    marginTop: 15,\n    marginLeft: 15\n  }\n}));\n\nconst Dashboard = ()=>{\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const toggleDrawer = () => {\n    setOpen(!open);\n  };\n  const [tab, setTab] = React.useState('Decks');\n  const changeTab = (tab) => {\n    setTab(tab);\n  }\n\n  const count = ''\n  const [decks,setDecks] = React.useState([]);\n  const [currentDeckList,setCurrentDeckList] = React.useState([])\n  const [selectedDeck,setDeck] = React.useState(1)\n  const magicBack = 'https://c1.scryfall.com/file/scryfall-card-backs/large/59/597b79b3-7d77-4261-871a-60dd17403388.jpg?1561757283'\n  const [imageShown,setImage] = React.useState(magicBack)\n\n  React.useEffect(() => {\n      const fetchDecks = () => {\n          fetch(`http://localhost:3001/decks`)\n      .then(res=>res.json())\n      .then(deckCollection=> {\n        setDecks(deckCollection);\n        setCurrentDeckList(fetchCards(deckCollection))\n        })\n      }\n      fetchDecks();\n    },[count]\n  )\n\n  const fetchCards = (deckCollection) => {\n    let deckList = []\n      deckCollection[selectedDeck-1].deck_cards.map(deck_card => \n          deckCollection[selectedDeck-1].cards.map(card => \n            card.id === deck_card.card_id ? deckList.push({card: card, deck_card: deck_card.id }) : null))\n    return deckList\n  }\n   \n  const addToDeck = (id)=>{\n    const decksUpdate = [...decks]\n    fetch('http://localhost:3001/deck_cards',{\n      method: 'POST',\n      body: JSON.stringify({deck_id: selectedDeck, card_id: id}),\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    })\n    .then(res => res.json())\n    .then(deckCardObj => {\n      decksUpdate[selectedDeck-1].deck_cards.push(deckCardObj.deck_card)\n      const cardCheck = decksUpdate[selectedDeck-1].cards.filter(card=> card.id === deckCardObj.card.id) === []\n      if(cardCheck){decksUpdate[selectedDeck-1].cards.push(deckCardObj.card)}\n      setDecks(decksUpdate)\n      }\n    )\n  }\n\n  const removeFromDeck = (id)=>{\n    const decksUpdate = [...decks]\n    fetch(`http://localhost:3001/deck_cards/${id}`,{\n      method: 'DELETE'\n    })\n    .then(res=>res.json())\n    .then(deletedDeckCard => {\n      let newDeckList = decks[selectedDeck-1].deck_cards.filter(deck_card => deck_card.id !== deletedDeckCard.id)\n      decksUpdate[selectedDeck-1].deck_cards = newDeckList\n      setCurrentDeckList(fetchCards(decksUpdate))\n      setDecks(decksUpdate)\n    })\n  }\n\n  const renderView = () => {\n    let showTab = ''\n    switch(tab){\n      case \"Decks\": showTab = <DeckBox decks={decks} setTab={setTab} setDeck={setDeck} setCurrentDeckList={setCurrentDeckList} fetchCards={fetchCards}/>\n      break;\n      case \"Search\": showTab = <Search setDeck={setDeck} selectedDeck={selectedDeck} addToDeck={addToDeck}/>\n      break;\n      case \"DeckList\": \n        showTab = <DeckList \n                    setImage={setImage} \n                    magicBack={magicBack} \n                    selectedDeck={selectedDeck} \n                    decks={decks} \n                    currentDeckList={currentDeckList} \n                    removeFromDeck={removeFromDeck} \n                  />\n      break;\n      default:\n      break;\n    }\n    return showTab\n  }\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, open && classes.appBarShift)}\n      >\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={toggleDrawer}\n            className={clsx(\n              classes.menuButton,\n              open && classes.menuButtonHidden,\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            {tab}\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={toggleDrawer}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          < MainListItems changeTab={changeTab}/>\n        </List>\n        <Divider />\n          <Grid>\n            <img className={classes.cardImage} src={imageShown} />\n          </Grid>\n        </Drawer>\n      <main className={classes.content}>\n\n          {renderView()}\n          \n      </main>\n    </div>\n  );\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}